<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
<!-- include aframe-ar.js -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<body style='margin : 0px; overflow: hidden; font-family: Monospace;'><div style='position: fixed; top: 10px; width:100%; text-align: center; z-index: 1;'>
	<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a> - Nice Work Ken Perlin!
	<br/>
</div>
	
        <a-scene embedded arjs>
		
		<a-assets>
			<audio id="sound" src="https://raw.githubusercontent.com/stpalmer2/hello_world/gh-pages/audio.mp3" preload="auto"></audio>
      		</a-assets>
		
		<!-- handle unknown marker -->
		<!-- <a-marker type='unknown'>
			<a-box depth="1" height="1" width="1" position='0 0.5 0' material='opacity: 0.5; side:double; color:blue;'></a-box>
		</a-marker> -->


		<!-- handle hiro marker -->
		<a-marker preset='hiro'>
				 <a-sphere material='src: https://raw.githubusercontent.com/stpalmer2/hello_world/gh-pages/Particles.png;'scale="0.8 0.8 0.8"radius="1" segments-height="53"
					animation="property: rotation; to:0 0 360; dur: 25000; easing: linear; loop: true"
					soundhandler ></a-sphere>
	</a-marker>


		<!-- handle matrix marker -->
		<a-marker type='barcode' value='5'>
			<a-box position='0 0.5 0' material='opacity: 0.5; side: double;color:pink;'>
				<a-torus-knot radius='0.26' radius-tubular='0.05'
				animation="property: rotation; to:360 0 0; dur: 5000; easing: linear; loop: true">
				</a-torus-knot>
			</a-box>
		</a-marker>

		<!-- handle kanji marker -->
		<a-marker preset='kanji'>
			<a-sphere material='src: https://raw.githubusercontent.com/stpalmer2/hello_world/gh-pages/Orange Particles.png;' scale="0.8 0.8 0.8" radius="1" segments-height="53"
			animation="property: rotation; to:0 0 360; dur: 25000; easing: linear; loop: true">
		soundhandler </a-sphere>
		</a-marker>
		
		<a-entity sound="src: #sound" autoplay="false"></a-entity>
		<a-entity camera></a-entity>
		

	</a-anchor>
	</a-scene>
	<script>

		AFRAME.registerComponent('soundhandler', {
			tick: function () {
				   var entity = document.querySelector('[sound]');
				 if (document.querySelector('a-marker').object3D.visible == true) {
					entity.components.sound.playSound();
				} else {
					entity.components.sound.pauseSound();
				}
		
			 }
		});
		</script>
</body>
</html>
